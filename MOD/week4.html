<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>멋쟁이사자처럼 X 넥슨 MOD Suppoters Hackathon 4주차 회고 | Play My Life</title>
    <meta name="generator" content="VuePress 1.9.7">
    <script data-ad-client="ca-pub-5710915329895675" async="true" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <meta name="description" content="">
    <meta name="theme-color" content="#ffc0cb">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.ad2e4e73.css" as="style"><link rel="preload" href="/assets/js/app.34843af3.js" as="script"><link rel="preload" href="/assets/js/2.9f7d206a.js" as="script"><link rel="preload" href="/assets/js/28.15443098.js" as="script"><link rel="prefetch" href="/assets/js/10.d28190db.js"><link rel="prefetch" href="/assets/js/11.e5e0394a.js"><link rel="prefetch" href="/assets/js/12.2034ad8b.js"><link rel="prefetch" href="/assets/js/13.08c889a0.js"><link rel="prefetch" href="/assets/js/14.4627ae23.js"><link rel="prefetch" href="/assets/js/15.58d380f1.js"><link rel="prefetch" href="/assets/js/16.ef03bed0.js"><link rel="prefetch" href="/assets/js/17.f68431b2.js"><link rel="prefetch" href="/assets/js/18.a1997506.js"><link rel="prefetch" href="/assets/js/19.b8947373.js"><link rel="prefetch" href="/assets/js/20.0ed0ea82.js"><link rel="prefetch" href="/assets/js/21.3584f244.js"><link rel="prefetch" href="/assets/js/22.f21b7d9b.js"><link rel="prefetch" href="/assets/js/23.8c73ccd6.js"><link rel="prefetch" href="/assets/js/24.ed4bdbcb.js"><link rel="prefetch" href="/assets/js/25.025ccd7b.js"><link rel="prefetch" href="/assets/js/26.e53d9114.js"><link rel="prefetch" href="/assets/js/27.5b9cce4d.js"><link rel="prefetch" href="/assets/js/29.ca399aa6.js"><link rel="prefetch" href="/assets/js/3.bfe25ddb.js"><link rel="prefetch" href="/assets/js/30.64ac8e2c.js"><link rel="prefetch" href="/assets/js/31.f518576c.js"><link rel="prefetch" href="/assets/js/32.ef6b470d.js"><link rel="prefetch" href="/assets/js/33.0e6d9e85.js"><link rel="prefetch" href="/assets/js/34.f5a77502.js"><link rel="prefetch" href="/assets/js/35.6cf69811.js"><link rel="prefetch" href="/assets/js/36.3674e4e1.js"><link rel="prefetch" href="/assets/js/37.1f7114ff.js"><link rel="prefetch" href="/assets/js/4.e27a7f7a.js"><link rel="prefetch" href="/assets/js/5.e9f4081f.js"><link rel="prefetch" href="/assets/js/6.f1fa6fb3.js"><link rel="prefetch" href="/assets/js/7.94ca837f.js"><link rel="prefetch" href="/assets/js/8.e1ec8ae5.js"><link rel="prefetch" href="/assets/js/9.96320c2f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.ad2e4e73.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Play My Life</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/config/" class="nav-link">
  Config
</a></div><div class="nav-item"><a href="https://v1.vuepress.vuejs.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VuePress
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/config/" class="nav-link">
  Config
</a></div><div class="nav-item"><a href="https://v1.vuepress.vuejs.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VuePress
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vuepress</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Github</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>About_IT_Project</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Django</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>MOD</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/MOD/week1.html" class="sidebar-link">멋쟁이사자처럼 X 넥슨 MOD Suppoters Hackathon 1주차 회고</a></li><li><a href="/MOD/week2.html" class="sidebar-link">멋쟁이사자처럼 X 넥슨 MOD Suppoters Hackathon 2주차 회고</a></li><li><a href="/MOD/week3.html" class="sidebar-link">멋쟁이사자처럼 X 넥슨 MOD Suppoters Hackathon 3주차 회고</a></li><li><a href="/MOD/week4.html" aria-current="page" class="active sidebar-link">멋쟁이사자처럼 X 넥슨 MOD Suppoters Hackathon 4주차 회고</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/MOD/week4.html#event-system" class="sidebar-link">Event System</a></li><li class="sidebar-sub-header"><a href="/MOD/week4.html#entity-event-system" class="sidebar-link">Entity Event System</a></li><li class="sidebar-sub-header"><a href="/MOD/week4.html#entity-생성과-삭제-유효성-체크" class="sidebar-link">Entity 생성과 삭제, 유효성 체크</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h3 id="멋쟁이사자처럼-x-넥슨-mod-suppoters-hackathon-4주차-회고"><a href="#멋쟁이사자처럼-x-넥슨-mod-suppoters-hackathon-4주차-회고" class="header-anchor">#</a> 멋쟁이사자처럼 X 넥슨 MOD Suppoters Hackathon 4주차 회고</h3> <h2 id="event-system"><a href="#event-system" class="header-anchor">#</a> Event System</h2> <h3 id="event-system-로직의-이해"><a href="#event-system-로직의-이해" class="header-anchor">#</a> Event System 로직의 이해</h3> <ul><li><p>어떤 액션이 있거나 특정 일이 주어졌을 때 &quot;무언가를&quot; 해야 할 일이 생길 때 &quot;행위가 일어난 주체&quot;에서 무엇을 할 지 결정해야 action이 취해진다.</p></li> <li><p>[상황] 게임 내 캐릭터가 공격받은 상황, 피격 이펙트를 추가하려면?(일반 로직)</p> <ol><li>HP감소</li> <li>데미지 받았음을 보여줌</li> <li>잠깐 동안 무적상태가 됨</li> <li>피격 효과에 특별한 이벤트를 주고 싶다. 피격 이펙트를 표시한다.</li></ol></li> <li><p>위 같은 일반적인 로직은 &quot;행위가 일어난 주체&quot;에서 행동을 관리한다. 이를 Event 기반으로 처리하면 조금 다른 방식으로 처리된다. Event 기반으로 로직을 구성하게 되면 기본적으로 &quot;행동을 실행해야할 주체&quot;에서 행동을 관리하게 된다. 행위가 일어나는 주체에서 행동을 관리하는 로직에서 행동을 실행해야할 주체로 로직이 변동되면서 먼저 제시한 로직은 이렇게 변화한다.</p></li> <li><p>[상황] 게임 내 캐릭터가 공격받은 상황, 피격 이펙트를 추가할 때 Event 기반 로직이라면?</p></li></ul> <ol><li>캐릭터가 공격받는다.</li> <li>공격받은 상황을 공유한다. (공격받은 상황을 Event로 만들어서 보낸다)</li> <li>공격받은 상황의 이벤트를 받았을 때(피격이벤트가 발생했을 때) 이벤트 발생에 따라 정해진 행동을 수행한다.</li> <li>피격효과에 특별한 이벤트를 주고 싶다. 피격 이벤트 발생하는 그 상황에 피격 이펙트를 표시한다는 명령을 내려준다.</li></ol> <h3 id="event-system의-장단점"><a href="#event-system의-장단점" class="header-anchor">#</a> Event System의 장단점</h3> <p>개발자마다 코드를 짜는 취향이 다르기 때문에 일반 로직, 이벤트 시스템 로직 중 무엇이 더 좋다고 단정짓기 어렵다.
그러나 장단점은 있으니 참고하길 바란다.</p> <p>[장점]</p> <ul><li>다른 Component나 기능단위에서 결합성이 덜어지므로 의존성을 배제할 수 있고 분산시스템이 용이해진다.</li> <li>행위에 대한 액션을 추가 하고 싶을 때 행위를 수행하는 곳을 수정 없이 편하게 추가할 수 있다.</li> <li>다른 Component의 정보를 알 필요가 없다.</li></ul> <p>[단점]</p> <ul><li>어떤 사건이 발생 시 전체적인 플로우를 찾기 힘들다. 각각 처리 하므로 실행되는 시점에서는 알 수 없어 디버깅할 때 어려울 수 있다.</li> <li>순차적으로 행위가 일어나지 않는 경우도 있다.</li></ul> <h3 id="event-system의-구성"><a href="#event-system의-구성" class="header-anchor">#</a> Event System의 구성</h3> <ol><li><code>Event</code> 로직 상에서 어떤 사건의 발생을 의미한다.</li> <li><code>Handler</code> 해당 Event를 받았을 때 처리하는 행동의 주체이다. 해당 이벤트가 불렸을 때 불리는 함수이다.</li> <li><code>Sender</code> 해당 Event를 발송하는 객체이다.</li></ol> <ul><li>Event라는 공지물을 Sender가 학급내 학생들(Handler)에게 전달하면 학생들은 공지물을 보고 행동한다.</li></ul> <h2 id="entity-event-system"><a href="#entity-event-system" class="header-anchor">#</a> Entity Event System</h2> <h3 id="entity-event-system이란"><a href="#entity-event-system이란" class="header-anchor">#</a> Entity Event System이란</h3> <p>MOD에는 Event System을 쉽게 활용할 수 있도록 기본으로 제공되는 API가 있다.
API를 사용하면 Event 제어를 좀 더 편리하게 할 수 있다.</p> <h3 id="event-주고-받기를-위한-entity-event-system-이해"><a href="#event-주고-받기를-위한-entity-event-system-이해" class="header-anchor">#</a> Event 주고 받기를 위한 Entity Event System 이해</h3> <ul><li>Component는 Entity를 중계자로 사용할 수 있다.</li> <li>Component 들이 Entity에 핸들러를 등록하고 Sender 역시 Entity 통해서 이벤트를 발생시킬 수 있다.</li> <li>Entity들은 핸들러에게 해당 Event를 전송하여 동작한다. (공지물은 학생들에게 해야할 일을 알려주어 학생들이 움직이게 한다.)</li></ul> <h3 id="이벤트-처리할-컴포넌트와-엔티티-생성"><a href="#이벤트-처리할-컴포넌트와-엔티티-생성" class="header-anchor">#</a> 이벤트 처리할 컴포넌트와 엔티티 생성</h3> <ul><li><code>Workspace</code> &gt; <code>MyDesk</code> &gt; <code>Create EventType</code> -&gt; 번개 모양으로 이벤트가 생성되면 이름을 알맞게 붙여주고, Event에 Property나 Function을 추가해준다.</li> <li>그 다음, <code>Component</code>를 생성하고, <code>Component</code>가 동작할 <code>Entity</code>를 생성해준다.</li> <li>Coponent가 Entity를 중계자로 사용하기 때문에 Entity에 Component를 각각 추가해준다.</li></ul> <h3 id="핸들러-등록하여-처리하기"><a href="#핸들러-등록하여-처리하기" class="header-anchor">#</a> 핸들러 등록하여 처리하기</h3> <ul><li>지금까지 Entity에 Component를 추가해주었다면, 두 컴포넌트의 스크립트 에디터에서 <code>Entity Event Handler</code>에 만들었던 <code>Event</code>를 등록시켜주어야 한다.</li> <li>이때 발생되는 위치에 대한 정보를 넣어준다.
<img src="https://user-images.githubusercontent.com/81297662/171092558-9cb8454f-8de1-42ad-bafa-8d36d4d0484c.png" alt="image"></li> <li>이제부터 Component는 Entity를 중계자로 삼아 Event를 받을 수 있다. 이때부터 필요한 Event를 처리하는 로직을 스크립트에 코드로 작성해보자.</li> <li>어떤 상황에 따라(특정 키보드에 버튼을 누르면//몬스터에 부딫히면//스트리머가 알림을 쏘면) 반응하도록(스킬을 사용하도록//체력감소 이펙트가 나타나도록//알림을 보고 알림을 끄거나 스트리머 방송을 보러 가도록) 코드를 작성할 수 있다.</li></ul> <h2 id="entity-생성과-삭제-유효성-체크"><a href="#entity-생성과-삭제-유효성-체크" class="header-anchor">#</a> Entity 생성과 삭제, 유효성 체크</h2> <h3 id="entity-생성"><a href="#entity-생성" class="header-anchor">#</a> Entity 생성</h3> <ul><li>Entity 생성 -&gt; Entity 생성 함수인 <code>SpawnByEntityTemplate</code>와 <code>SpawnByModelled</code>를 사용함.</li></ul> <h4 id="spawnbyentitytemplate"><a href="#spawnbyentitytemplate" class="header-anchor">#</a> SpawnByEntityTemplate</h4> <ul><li>맵에 배치된 엔티티와 동일한 엔티티를 생성함.</li> <li>쉽게 말해 엔티티의 복제이다.</li> <li>맵 상에 복제 대상이 되는 템플릿 엔티티가 존재해야 한다.</li></ul> <h4 id="spawnbymodlled"><a href="#spawnbymodlled" class="header-anchor">#</a> SpawnByModlled</h4> <ul><li>워크스페이스에 추가된 모델 중 한 가지 모델을 지정하여 엔티티로 생성함.</li> <li>대체로 모델 리스트에 있는 모델을 엔티티로 생성하고자 할 때 사용함.</li> <li>예를 들어 원하는 모델에서 <code>마우스 우클릭</code> &gt; <code>Add to workspace</code>를 하여 모델을 워크스페이스에 추가해줌. 해당 모델에서 ID를 복사하고 싶다면 마우스를 우클릭하여 <code>Copy Model ID</code> 코드를 삽입한다.</li></ul> <p><img src="https://user-images.githubusercontent.com/81297662/171094308-523e4ea2-035d-426c-bf52-bc5a6b47c303.png" alt="image"></p> <h3 id="entity-제거"><a href="#entity-제거" class="header-anchor">#</a> Entity 제거</h3> <ul><li>Entity 제거 -&gt;<code>_EntityService:Destroy</code>와 <code>Entity:Destroy</code> 방법을 사용함.</li> <li>전자는 인자를 넘겨받은 엔티디를, 후자는 호출한 엔티티를 삭제한다.</li></ul> <h3 id="entity-유효성-체크"><a href="#entity-유효성-체크" class="header-anchor">#</a> Entity 유효성 체크</h3> <ul><li>글로벌 함수 <code>isvalid</code> 사용함.</li></ul> <p>사용 예시</p> <div class="language- extra-class"><pre class="language-text"><code>--void OnUpdate(number delta) [server only]
if isvalid(self.SpawnedEntity) == false then return end
if self._T.time == nil then self._T.time = 0 end

self._T.time = self._T.time + delta

if self._T.time &gt;= 3 then
    local isvalidValue = isvalid(self.SpawnedEntity)
    log(&quot;삭제 전 : &quot;..tostring(isvalidValue)) -- 콘솔 창에 &quot;삭제 전: true&quot; 출력
    self.SpawnedEntity:Destroy()
    isvalidValue = isvalid(self.SpawnedEntity)
    log(&quot;삭제 후 : &quot;..tostring(isvalidValue)) -- 콘솔 창에 &quot;삭제 후: false&quot; 출력
end
</code></pre></div><ul><li>삭제 전에는 isvalid가 true이고, 삭제 후에는 isvalid가 false임.</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/MOD/week3.html" class="prev">
        멋쟁이사자처럼 X 넥슨 MOD Suppoters Hackathon 3주차 회고
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.34843af3.js" defer></script><script src="/assets/js/2.9f7d206a.js" defer></script><script src="/assets/js/28.15443098.js" defer></script>
  </body>
</html>
