# 뷰프레스 블로그 만들기

## Vuepresss 설치

- 설치 명령어: `yarn create vuepress-site`

![Untitled](%E1%84%87%E1%85%B2%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%89%E1%85%B3%20%E1%84%87%2044904/Untitled.png)

- project name은 `docs` 로 설정한다. 
(다른 이름으로 설정해도 되지만 docs라는 이름으로 사용하는 것이 일반적이다)

![Untitled](%E1%84%87%E1%85%B2%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%89%E1%85%B3%20%E1%84%87%2044904/Untitled%201.png)

- 나머지는 전부 다 enter를 하고 주르르륵 넘겨준다. 그러면 `docs`라는 폴더가 생성된다.
- 이때 파일 구조는 아래와 같다.

![Untitled](%E1%84%87%E1%85%B2%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%89%E1%85%B3%20%E1%84%87%2044904/Untitled%202.png)

![Untitled](%E1%84%87%E1%85%B2%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%89%E1%85%B3%20%E1%84%87%2044904/Untitled%203.png)

### 파일구조 개편

- 이제 파일 구조를 개편해주자.

![Untitled](%E1%84%87%E1%85%B2%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%89%E1%85%B3%20%E1%84%87%2044904/Untitled%204.png)

`.gitignore` 과 `package.json` 파일은 `docs` 와 동일한 위치에 넣어둔다.

`docs` 폴더 생성하면서 만들어주었던 `src` 폴더안에 있는 `vuepress`, `config`, `guide` 폴더를 모두 `docs` 폴더와 동일한 위치로 옮긴 뒤 비어버린 `src` 폴더는 삭제한다.

### package.json 수정하기

이때 `package.json` 에서 코드를 수정해야할 것이 있다.

기본적으로 아래와 같은 내용이 파일 안에 들어있는데

![Untitled](%E1%84%87%E1%85%B2%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%89%E1%85%B3%20%E1%84%87%2044904/Untitled%205.png)

붉은 색으로 체크가 된 저 `src` 를 `docs` 로 바꾸어주어야 한다.

아까전에 폴더 구조를 정리해줬기 때문에 그런 것이다.

이제 `yarn add -D vuepress` 명령어를 사용해서  블로그에 필요한  `package` 만 설치해보자.

또한 이  명령어는 폴더 루트 위치에 뷰프레스 패키지의 디펜던시들을 `node_modules`
에 모으게 한다.

(현재 작업하던 위치에서  바로 명령어를 사용하면 된다. 그폴더 구조를 개편하면서 package.json 파일을 docs파일과 동일한 위치로 꺼냈기 때문이다.)

![Untitled](%E1%84%87%E1%85%B2%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%89%E1%85%B3%20%E1%84%87%2044904/Untitled%206.png)

![Untitled](%E1%84%87%E1%85%B2%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%89%E1%85%B3%20%E1%84%87%2044904/Untitled%207.png)

![Untitled](%E1%84%87%E1%85%B2%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%89%E1%85%B3%20%E1%84%87%2044904/Untitled%208.png)

그 결과 뷰프레스 블로그 생성 및 관리에 필요한 패키지만 모아두는  `node_modules` 폴더가 생성되었다. (뭐가 엄청 많다)

![Untitled](%E1%84%87%E1%85%B2%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%89%E1%85%B3%20%E1%84%87%2044904/Untitled%209.png)

이 상태로 `yarn build` 하자.

![Untitled](%E1%84%87%E1%85%B2%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%89%E1%85%B3%20%E1%84%87%2044904/Untitled%2010.png)

- 이런 화면이 뜨면 성공! 여기서 build가 잘 안된다면 대개 폴더 구조 정리가 잘 안되어서 생긴 문제니 위로 올라가서 다시 실행하도록 하자.

- 한 가지 궁금증  `yarn build` 는 뭘까?

이 명령어는 `docs/.vuepress` 폴더 하위에 `dist`폴더를 생성하고 마크다운 파일 및 정적 파일들도 html로 변환하게끔 만드는 명령어다. 마크다운으로 작성한 문서를 웹페이지에서 보기 좋게 만드는 작업이라고 볼 수 있다.

![Untitled](%E1%84%87%E1%85%B2%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%89%E1%85%B3%20%E1%84%87%2044904/Untitled%2011.png)

그 다음 `yarn dev`  명령어도 입력해 보자.

![Untitled](%E1%84%87%E1%85%B2%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%89%E1%85%B3%20%E1%84%87%2044904/Untitled%2012.png)

이 명령어를 실행하면 로컬호스트에서 `dist`폴더 내용을 렌더링하는 작업을 하게 되어 그 결과 여러분의 컴퓨터에서 뷰프레스 블로그 기본 화면을 볼 수 있게 된다. 👏 어떻게 볼 수 있냐고? 희미하게 보호색을 띄고 있는 저 링크를 클릭하면 볼 수 있다.

![Untitled](%E1%84%87%E1%85%B2%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%89%E1%85%B3%20%E1%84%87%2044904/Untitled%2013.png)

![Untitled](%E1%84%87%E1%85%B2%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%89%E1%85%B3%20%E1%84%87%2044904/Untitled%2014.png)

*(참고) 여기서 자꾸 `404 error` 가 뜬다면 한 가지 체크해보자.

이 블로그를 만들기 위해 생성한 repository가 자신의 깃허브 username.github.io로 잘 되어있는지.

뷰프레스 사이트 배포를 위한 레포지토리를 `<Username>.github.io` 로 생성하지 않고 개별 레포지토리로 생성했다면 반드시 `.vuepress` 폴더의 `config.js`의 `base`값을 설정해야 한다. 베이스 페이지를 설정하지 않으면 컴퓨터가 길을 잘 찾을 수 없다. (이렇게만 이해하자.)

![Untitled](%E1%84%87%E1%85%B2%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%89%E1%85%B3%20%E1%84%87%2044904/Untitled%2015.png)

베이스 값은 아래와 같이 설정한다.

```jsx
module.exports = {
  base: '/repositoryName/'
  //...
}
```

이제 여러분의 컴퓨터에서 뷰프레스 블로그를 만들고 수정하며 볼 수 있는 상태가 되었다. `배포` 를 해야 다른 컴퓨터에서도 이 페이지를 볼 수 있다. 배포해보자.

## Vue-press 배포

`[deploy.sh](http://deploy.sh)` 파일을 만들어주자. 파일 위치는 docs폴더 하위이다.

![Untitled](%E1%84%87%E1%85%B2%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%89%E1%85%B3%20%E1%84%87%2044904/Untitled%2016.png)

docs안에 [deploy.sh](http://deply.sh) 파일이 정상적으로 생성되었다.

아래 코드를 복사해서 [deploy.sh](http://deploy.sh) 파일에 붙여넣자.

```jsx
#!/usr/bin/env sh

# abort on errors
set -e

# build commands
yarn build

# navigate into the build output directory
cd .vuepress/dist

git init
git add -A
git commit -m "deploy with vuepress script"
git push -f https://github.com/<Username>/<Repository>.git main:gh-pages

cd -
```

저장 후 `sh [deploy.sh](http://deploy.sh)` 코드로 sh파일을 실행시켜 주자. (현재 명령창에서 ls했을 때 deploy파일이 보여야 함)

![Untitled](%E1%84%87%E1%85%B2%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%89%E1%85%B3%20%E1%84%87%2044904/Untitled%2017.png)

참고로 이렇게하면 되긴 되는데 뭔가 잘못된 것이 있다.

![Untitled](%E1%84%87%E1%85%B2%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%89%E1%85%B3%20%E1%84%87%2044904/Untitled%2018.png)

이런 문구가 나올 것이다. 15번째 줄을 살펴 보자.

![Untitled](%E1%84%87%E1%85%B2%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%89%E1%85%B3%20%E1%84%87%2044904/Untitled%2019.png)

여기에서 본인의 깃허브 이름과 연결돼있는 깃허브 레포지토리 이름을 적어주자.

나의 깃허브 이름은 DohuiKo 이고, 뷰프레스 블로그를 만든 레포지토리 이름은 Vuepress-test이다.

![Untitled](%E1%84%87%E1%85%B2%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%89%E1%85%B3%20%E1%84%87%2044904/Untitled%2020.png)

다시 sh 파일을 실행시켜보자.

![Untitled](%E1%84%87%E1%85%B2%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%89%E1%85%B3%20%E1%84%87%2044904/Untitled%2021.png)

잘 된줄 알았지만?

![Untitled](%E1%84%87%E1%85%B2%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%89%E1%85%B3%20%E1%84%87%2044904/Untitled%2022.png)

push error를 접하게 될 것이다...

- 왜 그러냐면 여러분의 터미널에는 분명히 `main` 이라고 써있지만

![Untitled](%E1%84%87%E1%85%B2%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%89%E1%85%B3%20%E1%84%87%2044904/Untitled%2023.png)

- 퓨프레스 블로그에서는 터미널을 `master` 를 default로 이해하기 때문이다.

master에다가 push하라고 명령을 내려줘야하는데 main에다가 push를 했으니 뭐가 잘 안될 수 밖에.

![Untitled](%E1%84%87%E1%85%B2%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%89%E1%85%B3%20%E1%84%87%2044904/Untitled%2024.png)

그러니 15줄의 링크옆에 main을 master로 바꿔주고 다시 deploy해보자.

![Untitled](%E1%84%87%E1%85%B2%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%89%E1%85%B3%20%E1%84%87%2044904/Untitled%2025.png)

아주 잘 된다 👏🏼

 

이제 다른 사람들도 나의 블로그를 볼 수 있게 되었다.

그런데 배포된 사이트는 어디있지...?

![Untitled](%E1%84%87%E1%85%B2%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%89%E1%85%B3%20%E1%84%87%2044904/Untitled%2026.png)

체크된 곳으로 링크를 타보자.

![Untitled](%E1%84%87%E1%85%B2%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%89%E1%85%B3%20%E1%84%87%2044904/Untitled%2027.png)

그러면 원격저장소로 이동이 되는데 상단 탭의 `settings` 를 눌러보자.

![Untitled](%E1%84%87%E1%85%B2%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%89%E1%85%B3%20%E1%84%87%2044904/Untitled%2028.png)

좌측 탭에서 `pages` 눌러보자.

![Untitled](%E1%84%87%E1%85%B2%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%89%E1%85%B3%20%E1%84%87%2044904/Untitled%2029.png)

파란색 링크가 나의 블로그 링크다 아주 뿌듯하다. 클릭하면 친구 엄마 아빠 동생 다 볼 수 있는 웹페이지가 만들어진다.

![Untitled](%E1%84%87%E1%85%B2%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%89%E1%85%B3%20%E1%84%87%2044904/Untitled%2030.png)

- 그런데 이거만 하면 블로그는 의미가 없다. 카테고리를 만들고 카테고리에 내가, 다른 사람이 볼 수 있는 기록들을 유의미하게 남길 수 있어야 되지 않겠는가.
- 게시판을 만들고 연결해보자. (스크롤을 쭉 내려보자)

### 그런데 저는 뭔가 이상해요 → 본인깃허브이름.github.io로 레포 주소를 만든게 아니면 base설정을 해야한다고 아까 언급한 바 있다. ~~하라는 데는 다 이유가 있다.~~

- 문제 현상과 해결법
    
    ![Untitled](%E1%84%87%E1%85%B2%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%89%E1%85%B3%20%E1%84%87%2044904/Untitled%2031.png)
    
    base설정을 안해주니 아무것도 못찾는 일이 발생한 것이다.
    
    불러올 수 있는게 암것도 없다 ㅎㅎ (설정 잘 해주자)
    
    ![Untitled](%E1%84%87%E1%85%B2%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%89%E1%85%B3%20%E1%84%87%2044904/Untitled%2032.png)
    
    ![Untitled](%E1%84%87%E1%85%B2%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%89%E1%85%B3%20%E1%84%87%2044904/Untitled%2033.png)
    
    등록한 base코드이다.
    
    `sh [deploy.sh](http://deploy.sh)` 명령어를 입력해주자.
    
    ![Untitled](%E1%84%87%E1%85%B2%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%89%E1%85%B3%20%E1%84%87%2044904/Untitled%2034.png)
    
    ![Untitled](%E1%84%87%E1%85%B2%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%89%E1%85%B3%20%E1%84%87%2044904/Untitled%2030.png)
    

## 사이드바에 게시글 만들고 글 작성하기

docs 바로 하위에 만들고 싶은 게시글 카테고리 이름을 적어 폴더를 만들어주자.

![Untitled](%E1%84%87%E1%85%B2%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%89%E1%85%B3%20%E1%84%87%2044904/Untitled%2035.png)

카테고리만 있고 내용이 없으면 안되니

게시글도 하나 만들어준다. 게시글은 마크다운 언어 파일로 작성하면 된다.

![Untitled](%E1%84%87%E1%85%B2%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%89%E1%85%B3%20%E1%84%87%2044904/Untitled%2036.png)

마크다운 파일 내에는 이렇게 작성해주자.

![Untitled](%E1%84%87%E1%85%B2%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%89%E1%85%B3%20%E1%84%87%2044904/Untitled%2037.png)

작성했으면 연결을 해주어야 한다.

![Untitled](%E1%84%87%E1%85%B2%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%89%E1%85%B3%20%E1%84%87%2044904/Untitled%2038.png)

config.js로 가서 sidebar에 해당하는 코드를 고쳐주자.

![Untitled](%E1%84%87%E1%85%B2%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%89%E1%85%B3%20%E1%84%87%2044904/Untitled%2039.png)

- 게시글 카테고리 이름은 title에 적어주고,
- children에는 게시글의 경로를 입력해주자.
- collapasable: true로 하면 게시글이 열린 상태로 false면 닫힌 상태가 기본값이 된다.

![Untitled](%E1%84%87%E1%85%B2%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%89%E1%85%B3%20%E1%84%87%2044904/Untitled%2040.png)

이제 sidebar생성이 끝났다. 만들고 싶은 사이드바가 있으면 언제든지 만들 수 있다.

이제 가이드는 필요없으니까 날려버리자. 방법은 guide폴더 삭제, sidebar에서 guide경로설정 삭제.

![Untitled](%E1%84%87%E1%85%B2%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%89%E1%85%B3%20%E1%84%87%2044904/Untitled%2041.png)

또, index.md에서 맨 처음 시작 버튼을 눌렀을 때 보이는 페이지를 재설정해준다.

![Untitled](%E1%84%87%E1%85%B2%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%89%E1%85%B3%20%E1%84%87%2044904/Untitled%2042.png)

intro페이지를 만들어서 연결하는 방법으로 guide를 대체하였다.

![Untitled](%E1%84%87%E1%85%B2%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%89%E1%85%B3%20%E1%84%87%2044904/Untitled%2043.png)

이렇게하면 intro.md에 적은 내용을 볼 수 있다.

### 블로그 이름 바꾸기

![Untitled](%E1%84%87%E1%85%B2%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%89%E1%85%B3%20%E1%84%87%2044904/Untitled%2044.png)

블로그 이름을 바꿔주고 싶다면 config.js 파일에서 title부분의 코드를 바꾸어주자.

![Untitled](%E1%84%87%E1%85%B2%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%89%E1%85%B3%20%E1%84%87%2044904/Untitled%2045.png)

나만의 이름을 가진 블로그 완성

![Untitled](%E1%84%87%E1%85%B2%E1%84%91%E1%85%B3%E1%84%85%E1%85%A6%E1%84%89%E1%85%B3%20%E1%84%87%2044904/Untitled%2046.png)

스타트 버튼을 누르면 글을 볼 수 있다.

색을 바꿔보자.

[Overriding VuePress CSS Styles | Cody Bontecou](https://codybontecou.com/vuepress-styles.html#individual-css-elements)